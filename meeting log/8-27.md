1. Truly Understanding the rule and abiding by the rule
2. Testing code

當市開盤競價基準：（漲跌幅限制的依據）
一、前一日收盤價格。

二、如無前一日收盤價格，依下列原則決定：

（一）前一日收盤時最高買進申報價格高於前一日開盤競價基準，則為最高買進申報價格。

（二）前一日收盤時最低賣出申報價格低於前一日開盤競價基準，則為最低賣出申報價格。

（三）上述情形不成立時，則為前一日開盤競價基準。


開盤價格：
第一次撮合成交之價格為其開盤價格

開市集合競價剩餘掛單：
開市前輸入而未成交
之買賣申報，仍依原電腦隨機排列順序繼續撮合

收盤價格：
收盤前撮合成交之價格為收盤價格，如未成交時，則以當市最後一次成交之價格為收盤價格。

價格穩定機制參考價格：
一、當市第一次撮合起五分鐘內，第一次撮合成交價格 — > 開盤競價基準

二、當市第一次撮合滿五分鐘起，ma_5 — > last trade price —> 開盤競價基準

三、遇到延緩撮合後，自該延緩撮合終了後五分鐘內，以該次集合競價成交價格為參考價格 —> last trade price —> 開盤競價基準

有價證券開市或收市前一分鐘，如任一次與其前一次之試算成交價格漲跌超逾百分之三點五時（開市前之三十分鐘如無前一次試算成交價，則以開盤競價基準為準；收市前一段時間如無前一次試算成交價，則以最近一次成交價為準，如仍無最近一次成交價，則以開盤競價基準為準），該有價證券暫緩當市第一次撮合或收市撮合。

暫緩當市第一次撮合之有價證券，延緩二分鐘後依序撮合成交。
暫緩收市撮合之有價證券，於一時三十一分起至一時三十三分繼續接受其買賣申報之輸入、取消及變更，俟一時三十三分依序撮合成交。
